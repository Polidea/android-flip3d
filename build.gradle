buildscript {
    def localMavenRepo = 'file://' + new File(System.getProperty('user.home'), '.m2/repository').absolutePath
    repositories {
        org.apache.ivy.util.url.CredentialsStore.INSTANCE.addCredentials(
            "Artifactory Realm", "dev.polidea.pl", "${polideaRepoUsername}", "${polideaRepoPassword}")
        mavenRepo url: localMavenRepo
        mavenRepo url: uri('https://dev.polidea.pl/artifactory/plugins-snapshot-local')
        mavenRepo url: uri('https://dev.polidea.pl/artifactory/plugins-release-local')
        mavenCentral()
    }
    dependencies {
        classpath ('pl.polidea.gradle:PolideaBuildPlugin:4.1.0-SNAPSHOT') {
            changing = true
        }
    }
}

apply plugin: 'polidea-project-configuration'
apply plugin: 'polidea-mercurial'
apply plugin: 'polidea-android-build'
apply plugin: 'polidea-android-analysis'
apply plugin: 'polidea-android-apphance'
apply plugin: 'polidea-android-reports'
